Aten√ß√£o: A tabela principal de dados do usu√°rio nesta aplica√ß√£o √© a tabela chamada users (n√£o user_profiles, nem dados locais ou mockados).

üéØ Objetivo:
Toda informa√ß√£o referente ao usu√°rio logado deve estar salva e ser carregada a partir da tabela users no Supabase.

‚úÖ O que voc√™ precisa fazer agora:
Utilize exclusivamente a tabela users (personalizada, criada por mim no Supabase) para armazenar todos os dados extras do usu√°rio.

Exemplo de dados que devem estar nesta tabela:

full_name (nome completo)

account_mode (Nacional ou Internacional)

phone_number

balance (saldo em conta)

created_at

etc.

üõ†Ô∏è 2. Se algum desses campos ainda n√£o existir na tabela users, crie automaticamente:
Se o campo full_name n√£o existir:

sql
Copiar
Editar
ALTER TABLE users ADD COLUMN full_name TEXT;
Se o campo account_mode n√£o existir:

sql
Copiar
Editar
ALTER TABLE users ADD COLUMN account_mode TEXT DEFAULT 'Nacional';
Se o campo balance n√£o existir:

sql
Copiar
Editar
ALTER TABLE users ADD COLUMN balance NUMERIC DEFAULT 0;
üì• 3. Na cria√ß√£o de um novo usu√°rio (logo ap√≥s o signUp):
Ap√≥s cadastrar o usu√°rio no auth.users, insira automaticamente os dados na tabela users, vinculando pelo ID:

ts
Copiar
Editar
await supabase
  .from('users')
  .insert({
    id: user.id,
    full_name: '',
    account_mode: 'Nacional',
    balance: 0
  });
üîÅ 4. Para leitura dos dados do usu√°rio autenticado:
ts
Copiar
Editar
const { data, error } = await supabase
  .from('users')
  .select('*')
  .eq('id', user.id)
  .single();
üíæ 5. Para salvar edi√ß√µes no modal de perfil:
ts
Copiar
Editar
await supabase
  .from('users')
  .update({
    full_name,
    account_mode
  })
  .eq('id', user.id);
üß† Regras gerais:
A tabela users √© a √∫nica respons√°vel por armazenar dados do usu√°rio.

O ID da tabela users deve ser o mesmo do auth.users.id (UUID).

Qualquer dado extra deve ser salvo diretamente nesta tabela.

Remova depend√™ncias de contextos falsos, dados mockados, ou tabelas paralelas como user_profiles.

üß© B√¥nus ‚Äî Exemplo de estrutura m√≠nima da tabela users
Campo	Tipo	Detalhes
id	UUID	Igual ao auth.users.id
full_name	TEXT	Nome do usu√°rio
account_mode	TEXT	Nacional / Internacional
balance	NUMERIC	Saldo do usu√°rio (default 0)
created_at	TIMESTAMP	Default now()

Execute agora a verifica√ß√£o dos campos, crie os que faltam, e integre toda a l√≥gica da aplica√ß√£o com a tabela users.
A partir deste momento, nenhuma outra tabela deve ser usada para armazenar dados do usu√°rio.